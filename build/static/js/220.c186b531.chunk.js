"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[220,448],{220:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var r=a(43),t=a(85),i=a(448),l=a(613),o=a.n(l),d=a(579);const c=()=>{const[e,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,n]=(0,r.useState)("init"),h=t.sh.lng,p=t.sh.getCookie("sid");(0,r.useEffect)((()=>{o()("#waiting").hide()}));return(0,d.jsxs)(d.Fragment,{children:["regist"===c&&(0,d.jsx)(i.default,{}),"regist"!==c&&(0,d.jsxs)("div",{id:"login",className:"form",children:[(0,d.jsx)("div",{className:"row text-center",children:(0,d.jsxs)("h1",{children:[(0,d.jsx)("em",{className:"fas fa-sign-in-alt"}),"\xa0",(0,d.jsx)("span",{children:h("LOGIN")})]})}),(0,d.jsxs)("form",{name:"login",action:"index.php",method:"post",id:"formLogin",children:[(0,d.jsx)("div",{className:"row text-center",children:(0,d.jsxs)("div",{className:"col-12",children:[(0,d.jsx)("em",{className:"fas fa-user"}),"\xa0",(0,d.jsx)("label",{children:h("NICKNAME_OR_EMAIL")}),(0,d.jsx)("br",{}),(0,d.jsx)("input",{type:"text",name:"email",id:"email",value:e,onChange:e=>s(e.target.value),autoFocus:!0,required:!0})]})}),(0,d.jsx)("div",{className:"row text-center",children:(0,d.jsxs)("div",{className:"col-12",children:[(0,d.jsx)("em",{className:"fas fa-key"}),"\xa0",(0,d.jsx)("label",{children:h("PASSWORD")}),(0,d.jsx)("br",{}),(0,d.jsx)("input",{type:"password",id:"password",name:"password",value:a,onChange:e=>l(e.target.value),required:!0})]})}),(0,d.jsx)("div",{className:"row text-center",children:(0,d.jsxs)("div",{className:"col-12",children:[(0,d.jsx)("a",{href:"./poliicy",target:"_new",children:h("ACCEPT1")}),"\xa0",h("ACCEPT2")]})}),(0,d.jsx)("div",{className:"row text-center",children:(0,d.jsx)("div",{className:"col-12",children:(0,d.jsxs)("button",{type:"button",className:"btn btn-success",name:"submit",id:"doLogin",onClick:()=>{t.sh.setCookie("logedId","",10),t.sh.setCookie("logedNick","",10),t.sh.setCookie("logedAvatar","",10),t.sh.setCookie("logedGroups","",10),""===e?t.sh.popupMsg(h("NICK_OR_EMAIL_REQUIRED"),t.Nf.error):""===a?t.sh.popupMsg(h("PASSWORD_REQUIRED"),t.Nf.error):t.sh.callApi("api/dologin.php",{sid:p,email:e,password:a}).then((e=>{console.log(e),e.data.loged?(t.sh.setCookie("logedId",e.data.id,10),t.sh.setCookie("logedNick",e.data.nick,10),t.sh.setCookie("logedAvatar",e.data.avatar,10),t.sh.setCookie("logedGroups",e.data.groups,10),t.sh.gotoNewPage("./home")):t.sh.popupMsg(h("WRONG_DATA"),t.Nf.error)}))},children:[(0,d.jsx)("em",{className:"fas fa-check"}),"\xa0",h("OK")]})})}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsxs)("div",{className:"row text-center",children:[(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("a",{className:"btn btn-secondary",href:"https://netpolgar.hu/auth/facebook?state=SITEURL/redirect",children:h("FBLOGIN")})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("a",{href:"'https://netpolgar.hu/auth/google?state='+SITEURL+'/'+atob(redirect)",className:"btn btn-secondary",children:h("GOOGLELOGIN")})})]})]}),(0,d.jsx)("div",{className:"alert alert-info",children:h("REGISTHELP2")}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12 text-center",children:(0,d.jsx)("button",{type:"button",id:"doRegister",onClick:()=>{n("regist")},className:"btn btn-secondary",children:h("DOREGIST")})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12 text-center",children:(0,d.jsx)("var",{className:"btn btn-secondary",id:"resendEmail",onClick:()=>{""===e?t.sh.popupMsg(h("NICK_OR_EMAIL_REQUIRED"),t.Nf.error):t.sh.callApi("api/sendactivatoremail.php",{sid:p,email:e}).then((e=>{e.data.mailsended?t.sh.popupMsg(h("EMAIL_SENDED"),t.Nf.success):t.sh.popupMsg(h("WRONG_DATA"),t.Nf.error)}))},children:h("RESEND_ACTIVATOR")})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12 text-center",children:(0,d.jsx)("var",{className:"btn btn-secondary",id:"forgetPassword",onClick:()=>{""===e?t.sh.popupMsg(h("NICK_OR_EMAIL_REQUIRED"),t.Nf.error):t.sh.callApi("api/forgetpassword.php",{sid:p,email:e}).then((e=>{e.data.mailsended?t.sh.popupMsg(h("EMAIL_SENDED"),t.Nf.success):t.sh.popupMsg(h("WRONG_DATA"),t.Nf.error)}))},children:h("FORGET_PASSWORD")})})})]})]})}},448:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});a(43);var r=a(85),t=a(579);const i=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{id:"Register",children:"Register component"}),(0,t.jsx)("p",{children:r.sh.data("login_send")})]})}}]);
//# sourceMappingURL=220.c186b531.chunk.js.map