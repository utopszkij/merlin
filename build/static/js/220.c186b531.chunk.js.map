{"version":3,"file":"static/js/220.c186b531.chunk.js","mappings":"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","sources":["pages/Login.tsx","pages/Register.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useState } from \"react\";\nimport { common, msgStyle } from \"../common/common\";\nimport Register from './Register';\nimport $ from 'jquery'; \nimport { json } from 'stream/consumers';\n  \nconst Login = () => {\n  \t\n  //variables whose value can change during runtime\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [task, setTask] = useState(\"init\");\n  const lng = common.lng;\n  const sid = common.getCookie('sid');\t\n\n  // onLoad event handler\n\t   useEffect(() => {\n\t\t$('#waiting').hide();\n\t});\t\n\n\n  /** validate import fields\n\t* if OK submit form\n\t* else show errorMsg, set error class, set focus\n\t* @return void \n  */\t\n  const doLogin = () => {\n\tcommon.setCookie('logedId','',10);\n\tcommon.setCookie('logedNick','',10);\n\tcommon.setCookie('logedAvatar','',10);\n\tcommon.setCookie('logedGroups','',10);\n\tif (email === '') {\n\t\tcommon.popupMsg(lng('NICK_OR_EMAIL_REQUIRED'), msgStyle.error);\n\t} else if (password === '') {\n\t\tcommon.popupMsg(lng('PASSWORD_REQUIRED'), msgStyle.error);\n\t} else {\n\t\tcommon.callApi('api/dologin.php',{\n\t\t\t'sid': sid,\n\t\t\t'email': email,\n\t\t\t'password':password})\n\t\t.then( (res:any) => { \n\t\t\tconsole.log(res);\n\t\t\tif (res.data.loged) {\n\t\t\t\tcommon.setCookie('logedId',res.data.id,10);\n\t\t\t\tcommon.setCookie('logedNick',res.data.nick,10);\n\t\t\t\tcommon.setCookie('logedAvatar',res.data.avatar,10);\n\t\t\t\tcommon.setCookie('logedGroups',res.data.groups,10);\n\t\t\t\tcommon.gotoNewPage('./home');\n\t\t\t} else {\n\t\t\t\tcommon.popupMsg(lng('WRONG_DATA'), msgStyle.error);\n\t\t\t}\t\n\t\t});\t\n\t}\n  };\n\n  const registClick = () => {\n\tsetTask('regist');\n  }\n\n  const forgetPasswordClick = () => {\n\tif (email === '') {\n\t\tcommon.popupMsg(lng('NICK_OR_EMAIL_REQUIRED'), msgStyle.error);\n\t} else {\n\t\tcommon.callApi('api/forgetpassword.php',{\n\t\t\t'sid': sid,\n\t\t\t'email': email})\n\t\t.then( (res:any) => { \n\t\t\tif (res.data.mailsended) {\n\t\t\t\tcommon.popupMsg(lng('EMAIL_SENDED'), msgStyle.success);\n\t\t\t} else {\n\t\t\t\tcommon.popupMsg(lng('WRONG_DATA'), msgStyle.error);\n\t\t\t}\t\n\t\t});\t\n\t}\n  }\n\n  const resendEmailClick = () => {\n\tif (email === '') {\n\t\tcommon.popupMsg(lng('NICK_OR_EMAIL_REQUIRED'), msgStyle.error);\n\t} else {\n\t\tcommon.callApi('api/sendactivatoremail.php',{\n\t\t\t'sid': sid,\n\t\t\t'email': email})\n\t\t.then( (res:any) => { \n\t\t\tif (res.data.mailsended) {\n\t\t\t\tcommon.popupMsg(lng('EMAIL_SENDED'), msgStyle.success);\n\t\t\t} else {\n\t\t\t\tcommon.popupMsg(lng('WRONG_DATA'), msgStyle.error);\n\t\t\t}\t\n\t\t});\t\n\t}\n   }\n\n  return (\n\n\t\t<>\n\t\t{(task === 'regist') &&\n\t\t\t( <Register />)\n\t\t}\n\t\t{(task !== 'regist') &&\n\t\t(\n\t\t<div id=\"login\" className=\"form\">\n\t\t\t<div className=\"row text-center\">\n\t\t\t\t<h1>\n\t\t\t\t\t\t<em className=\"fas fa-sign-in-alt\"></em>&nbsp;\n\t\t\t\t\t\t<span>{ lng('LOGIN') }</span>\n\t\t\t\t</h1>\n\t\t\t</div>\t\n\t\t\t<form name=\"login\" action=\"index.php\" method=\"post\" \n\t\t\t\tid=\"formLogin\">\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<em className=\"fas fa-user\"></em>&nbsp;\n\t\t\t\t\t\t<label>{ lng('NICKNAME_OR_EMAIL') }</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"email\" id=\"email\" value={ email }\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)} autoFocus\n\t\t\t\t\t\t\trequired />\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<em className=\"fas fa-key\"></em>&nbsp;\n\t\t\t\t\t\t<label>{ lng('PASSWORD') }</label><br />\n\t\t\t\t\t\t<input type=\"password\" id=\"password\" name=\"password\" value={ password }\n\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<a href=\"./poliicy\" target=\"_new\">{ lng('ACCEPT1') }</a>&nbsp;\n\t\t\t\t\t\t{ lng('ACCEPT2')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-success\" name=\"submit\" id=\"doLogin\" onClick={ doLogin }>\n\t\t\t\t\t\t\t<em className=\"fas fa-check\"></em>&nbsp;{ lng('OK') }\n\t\t\t\t\t\t</button>   \n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<br /><br />\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<a className=\"btn btn-secondary\" href=\"https://netpolgar.hu/auth/facebook?state=SITEURL/redirect\"> \n\t\t\t\t\t\t\t{ lng('FBLOGIN') }\t\t\t\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<a href=\"'https://netpolgar.hu/auth/google?state='+SITEURL+'/'+atob(redirect)\" \n\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"> \n\t\t\t\t\t\t\t{ lng('GOOGLELOGIN') }\t\t\t\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t</form>\n\t\t\t<div className=\"alert alert-info\">{ lng('REGISTHELP2') }</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 text-center\">\n\t\t\t\t\t<button type=\"button\" id=\"doRegister\" onClick={ registClick } className=\"btn btn-secondary\">\n\t\t\t\t\t\t\t{ lng('DOREGIST') }\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 text-center\">\n\t\t\t\t\t<var className=\"btn btn-secondary\" id=\"resendEmail\" onClick={ resendEmailClick }>\n\t\t\t\t\t\t\t{ lng('RESEND_ACTIVATOR') }\n\t\t\t\t\t</var>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 text-center\">\n\t\t\t\t\t<var className=\"btn btn-secondary\" id=\"forgetPassword\" onClick={ forgetPasswordClick }>\n\t\t\t\t\t\t\t{ lng('FORGET_PASSWORD') }\n\t\t\t\t\t</var>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t)}\n\t\t</>\n  \t\t)\n};\n\nexport default Login;\n","import React from 'react';\nimport { common } from \"../common/common\"; \n\nconst Register = () => {\n\treturn (\n\t\t<>\n\t\t<div id=\"Register\">Register component</div>\n\t\t<p>{ common.data('login_send') }</p>\n\t\t</>\n\t)\n}\nexport default Register\n"],"names":["Login","email","setEmail","useState","password","setPassword","task","setTask","lng","common","sid","getCookie","useEffect","$","hide","_jsxs","_Fragment","children","_jsx","Register","id","className","name","action","method","type","value","onChange","e","target","autoFocus","required","href","onClick","doLogin","setCookie","popupMsg","msgStyle","error","callApi","then","res","console","log","data","loged","nick","avatar","groups","gotoNewPage","registClick","resendEmailClick","mailsended","success","forgetPasswordClick"],"sourceRoot":""}