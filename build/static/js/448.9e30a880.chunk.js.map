{"version":3,"file":"static/js/448.9e30a880.chunk.js","mappings":"6JAOA,MA+MA,EA/MiBA,KAChB,MAAMC,EAAMC,EAAAA,GAAOD,KACZE,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAWC,IAAgBJ,EAAAA,EAAAA,UAAS,KACpCK,EAAUC,IAAeN,EAAAA,EAAAA,UAAS,KAClCO,EAAOC,IAAYR,EAAAA,EAAAA,UAAS,KAC5BS,EAAQC,IAAaV,EAAAA,EAAAA,UAAS,KAC9BW,EAAWC,IAAgBZ,EAAAA,EAAAA,UAAS,MACpCa,EAAQC,IAAad,EAAAA,EAAAA,UAAS,KAmGrC,OACCe,EAAAA,EAAAA,KAAA,OAAKC,GAAG,WAAUC,UACjBC,EAAAA,EAAAA,MAAA,OAAKF,GAAG,SAASG,UAAU,OAAMF,SAAA,EAChCF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,gBAAeF,SAAA,EAC5BF,EAAAA,EAAAA,KAAA,MAAII,UAAU,kBAAkB,cAAY,SAAY,QACxDJ,EAAAA,EAAAA,KAAA,QAAAE,SAAQrB,EAAI,wBAGdsB,EAAAA,EAAAA,MAAA,QAAME,KAAK,eAAeJ,GAAG,aAAcK,OAAO,OAC5CC,QAAQ,sBAAqBL,SAAA,EACnCF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACvBC,EAAAA,EAAAA,MAAA,SAAAD,SAAA,EAAOF,EAAAA,EAAAA,KAAA,MAAII,UAAU,eAAoBvB,EAAI,YAAa,WAC1DmB,EAAAA,EAAAA,KAAA,SAAOQ,KAAK,OAAOH,KAAK,WAAWJ,GAAG,WAAWQ,SAAYC,GAAM1B,EAAY0B,EAAEC,OAAOC,OACvFC,UAAQ,EAACT,UAAU,uBAGrBJ,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACvBC,EAAAA,EAAAA,MAAA,SAAAD,SAAA,EAAOF,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAmBvB,EAAI,YAAa,WACzDmB,EAAAA,EAAAA,KAAA,SAAOQ,KAAK,WAAWH,KAAK,WAAWJ,GAAG,WAAWY,UAAQ,EAC5DT,UAAU,wBACVU,UAAW,EACXL,SAAYC,GAAMvB,EAAYuB,EAAEC,OAAOC,eAGzCZ,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACvBC,EAAAA,EAAAA,MAAA,SAAAD,SAAA,EAAOF,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAmBvB,EAAI,uBAC5CmB,EAAAA,EAAAA,KAAA,SAAOQ,KAAK,WAAWH,KAAK,YAC5BD,UAAU,wBAAwBK,SAAYC,GAAMrB,EAAaqB,EAAEC,OAAOC,eAG3EZ,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACvBC,EAAAA,EAAAA,MAAA,SAAAD,SAAA,EAAOF,EAAAA,EAAAA,KAAA,MAAII,UAAU,oBAAyBvB,EAAI,YAAa,WAC/DmB,EAAAA,EAAAA,KAAA,SAAOQ,KAAK,OAAOH,KAAK,WACxBQ,UAAQ,EAACT,UAAU,eAAeK,SAAYC,GAAMnB,EAAYmB,EAAEC,OAAOC,eAG1EZ,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACvBC,EAAAA,EAAAA,MAAA,SAAAD,SAAA,EAAOF,EAAAA,EAAAA,KAAA,MAAII,UAAU,oBAAyBvB,EAAI,SAAU,WAC5DmB,EAAAA,EAAAA,KAAA,SAAOQ,KAAK,QAAQH,KAAK,QACzBQ,UAAQ,EAACT,UAAU,eAAeK,SAAYC,GAAMjB,EAASiB,EAAEC,OAAOC,eAGvET,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBF,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,SAAQF,SAAGrB,EAAI,iBAC9BsB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACtBC,EAAAA,EAAAA,MAAA,SAAAD,SAAA,EAAOF,EAAAA,EAAAA,KAAA,MAAII,UAAU,kBAAqB,WAC1CJ,EAAAA,EAAAA,KAAA,SAAOQ,KAAK,OAAOH,KAAK,SAASJ,GAAG,SAASG,UAAU,eACvDK,SAAYC,GAAMf,EAAUe,EAAEC,OAAOC,gBAGvCZ,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACtBC,EAAAA,EAAAA,MAAA,SAAAD,SAAA,CAASrB,EAAI,aAAc,WAC3BsB,EAAAA,EAAAA,MAAA,UAAQE,KAAK,YAAYD,UAAU,eAAeK,SAAYC,GAAMb,EAAaa,EAAEC,OAAOC,OAAQV,SAAA,EACjGF,EAAAA,EAAAA,KAAA,UAAQY,MAAM,IAAGV,SAAGrB,EAAI,UACxBmB,EAAAA,EAAAA,KAAA,UAAQY,MAAM,IAAGV,SAAGrB,EAAI,iBAK3BmB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACtBF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,UACPF,EAAAA,EAAAA,KAAA,SAAOQ,KAAK,WAAWJ,UAAU,mBAAmBC,KAAK,SAASO,MAAM,IACxEH,SAAYC,GAAMX,EAAUW,EAAEC,OAAOC,UACrCZ,EAAAA,EAAAA,KAAA,UAAAE,SAAUrB,EAAI,mBACdmB,EAAAA,EAAAA,KAAA,SAAM,KACNG,EAAAA,EAAAA,MAAA,KAAGY,KAAK,WAAWJ,OAAO,OAAMT,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,MAAII,UAAU,4BAAiCvB,EAAI,mBAQtDmB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBF,UAC/BF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,SAAQF,UACtBC,EAAAA,EAAAA,MAAA,UAAQK,KAAK,SAASJ,UAAU,kBAAkBC,KAAK,YACnDW,QAtLSC,KAGjBC,QAAQC,IAAI,mBACZD,QAAQC,IAAIC,UACZF,QAAQC,IAAIC,SAASC,eAAe,WAEpC,IAAIC,EAAc,EACdC,EAAa,EACbC,EAAW,EACXC,EAAc,EAKjBH,EADEpC,EAASwC,MADW,kDAER,EAEA,EAMdD,EADEvC,EAASwC,MADW,kDAER,EAEA,EAMdH,EADErC,EAASwC,MADE,UAEA,EAEA,EAKbF,EADGtC,EAASwC,MAAM,kGACP,EAEA,EAGZR,QAAQC,IAAI,YAAajC,EAAUoC,EAAaG,EAAaF,EAAYC,GAE1D,MAAX1B,EACHhB,EAAAA,GAAO6C,SAAU9C,EAAI,oBACXK,IAAaE,EACvBN,EAAAA,GAAO6C,SAAU9C,EAAI,4BACO,IAAhByC,GACQ,IAAhBG,GACe,IAAfF,GACa,IAAbC,EACJ1C,EAAAA,GAAO6C,SAAU9C,EAAI,qBAEpBC,EAAAA,GAAO8C,QAAQ,kBAAkB,CACjC,IAAM9C,EAAAA,GAAO+C,KAAK,OAClB,SAAY9C,EACZ,MAASS,EACT,OAAS,MAERsC,IACD,GAAIA,EAAIC,GAAI,CACX,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,MAAMpD,EAAAA,GAAO+C,KAAK,QAClCG,EAASE,OAAO,WAAWnD,GAC3BiD,EAASE,OAAO,QAAQ1C,GACxBwC,EAASE,OAAO,SAAS,KACzBF,EAASE,OAAO,WAAW5C,GAC3B0C,EAASE,OAAO,WAAWhD,GAC3B8C,EAASE,OAAO,YAAYtC,GAC5BoC,EAASE,OAAO,SAASpC,GAGzB,IAAIJ,EAAS0B,SAASC,eAAe,UACjCc,EAAc,OAANzC,QAAM,IAANA,OAAM,EAANA,EAAQyC,MAChBA,GACCA,EAAMC,OAAS,GAClBJ,EAASE,OAAO,SAASC,EAAM,IAGjCrD,EAAAA,GAAO8C,QAAQ,mBAAmBI,GACjCF,IACIA,EAAIC,GACPjD,EAAAA,GAAO6C,SAAU9C,EAAI,2BAErBC,EAAAA,GAAO6C,SAASG,EAAIO,SACrB,GAEF,MACCvD,EAAAA,GAAO6C,SAAU9C,EAAIiD,EAAIO,UAC1B,GAEF,EAyF6BnC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,MAAII,UAAU,iBAAoB,OAAQvB,EAAI,iBAKjDmB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,sBAAqBF,UAClCF,EAAAA,EAAAA,KAAA,KAAAE,UAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAUrB,EAAI,qBAEnBmB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,mBAAkBF,SAAGrB,EAAI,qBAEpC,C","sources":["pages/Register.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { common } from \"../common/common\"; \n\n\n// https://hackernoon.com/implement-form-validation-in-react-without-any-libraries\n\n\nconst Register = () => {\n\tconst lng = common.lng;\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [password2, setPassword2] = useState('');\n\tconst [realname, setRealname] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [avatar, setAvatar] = useState('');\n\tconst [twofactor, setTwofactor] = useState('0');\n\tconst [accept, setAccept] = useState('0');\n\t\n\tconst validator = () => {\n\n\n\t\tconsole.log('validator start');\n\t\tconsole.log(document);\n\t\tconsole.log(document.getElementById('avatar'));\n\n\t\tvar lowerLetter = 0;\n\t\tvar numberChar = 0;\n\t\tvar specChar = 0;\n\t\tvar capitalChar = 0;\n\t\n\t\t// Validate lowercase letters\n\t\tvar lowerCaseLetters = /[a-zöüóőúéáűí]/g;\n\t\tif(password.match(lowerCaseLetters)) {\n\t\t\tlowerLetter = 1;\n\t\t} else {\n\t\t\tlowerLetter = 0;\n\t\t}\t\n\t\t\n\t\t// Validate capital letters\n\t\tvar upperCaseLetters = /[A-ZÖÜÓŐÚÉÁŰÍ]/g;\n\t\tif(password.match(upperCaseLetters)) {\n\t\t\tcapitalChar = 1;\n\t\t} else {\n\t\t\tcapitalChar = 0;\n\t\t}\n\t\t\n\t\t// Validate numbers\n\t\tvar numbers = /[0-9]/g;\n\t\tif(password.match(numbers)) {\n\t\t\tnumberChar = 1;\n\t\t} else {\n\t\t\tnumberChar = 0;\n\t\t}\n\n\t\t// Validate spec char\n\t\tif (password.match(/[\\§'\"+!%/=()\\\\|Ä÷×äđĐ\\[\\]łŁ$ß¤<>#&@{},;\\?\\.:\\-_\\*\\\\]/g)) {\n\t\t\tspecChar = 1;\n\t\t} else {\n\t\t\tspecChar = 0;\n\t\t}\n\n\t\tconsole.log('validator', password, lowerLetter, capitalChar, numberChar, specChar);\n\n\t\tif (accept === '0') {\n\t\t\tcommon.popupMsg( lng('ACCEPT_REQUIRED') );\n\t\t} else if (password !== password2) {\n\t\t\tcommon.popupMsg( lng('TWO_PASSWORD_NOT_EQUALS') );\n\t\t} else \tif ((lowerLetter === 0) ||\n\t\t    (capitalChar === 0) ||\n\t\t    (numberChar === 0) ||\n\t\t    (specChar === 0)) {\n\t\t\tcommon.popupMsg( lng('PASSWORD_INVALID') );\n\t\t} else {\t\t\n\t\t\t common.callApi('api/registcheck',{\n\t\t\t\t\"sid\":common.data('sid'),\n\t\t\t\t\"username\": username,\n\t\t\t\t\"email\": email,\n\t\t\t\t\"userid\":'0'\n\t\t\t },\n\t\t\t (res:any) => { \n\t\t\t\tif (res.ok) {\n\t\t\t\t\tlet formData = new FormData();\n\t\t\t\t\tformData.append('sid',common.data('sid'));\n\t\t\t\t\tformData.append('username',username);\n\t\t\t\t\tformData.append('email',email);\n\t\t\t\t\tformData.append('userid','0');\n\t\t\t\t\tformData.append('realname',realname);\n\t\t\t\t\tformData.append('password',password);\n\t\t\t\t\tformData.append('twofactor',twofactor);\n\t\t\t\t\tformData.append('accept',accept);\n\n\t\t\t\t\t// file upload processing\n\t\t\t\t\tlet avatar = document.getElementById('avatar') as HTMLInputElement;\n\t\t\t\t\tlet files = avatar?.files;\n\t\t\t\t\tif (files) {\n\t\t\t\t\t\tif (files.length > 0) {\n\t\t\t\t\t\t\tformData.append('avatar',files[0]);   \n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t\tcommon.callApi('api/doregist.php',formData,\n\t\t\t\t\t(res:any) => {\n\t\t\t\t\t\tif (res.ok) {\n\t\t\t\t\t\t\tcommon.popupMsg( lng('ACTIVATOR_EMAIL_SENDED') );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcommon.popupMsg(res.errorMsg);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcommon.popupMsg( lng(res.errorMsg) );\n\t\t\t\t}\t  \n\t\t\t  })\t\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<div id=\"Register\">\n\t\t\t<div id=\"regist\" className=\"form\">\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<h1 className=\"ribbon-banner\">\n\t\t\t\t\t\t<em className=\"fa fa-user-plus\" aria-hidden=\"true\"></em>&nbsp;\n\t\t\t\t\t\t<span>{ lng('REGISTRATION') }</span>\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\t\n\t\t\t\t<form name=\"registration\" id=\"registForm\"  method=\"post\" \n\t\t\t\t      encType=\"multipart/form-data\">\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fa fa-user\"></em>{ lng('USERNAME') }&nbsp;</label>\n\t\t\t\t\t<input type=\"text\" name=\"username\" id=\"username\" onChange={ (e) => setUsername(e.target.value) } \n\t\t\t\t\t\trequired className=\"form-control\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fa fa-key\"></em>{ lng('PASSWORD') }&nbsp;</label>\n\t\t\t\t\t<input type=\"password\" name=\"password\" id=\"password\" required\n\t\t\t\t\t\tclassName=\"form-control password\" \n\t\t\t\t\t\tminLength={8}\n\t\t\t\t\t\tonChange={ (e) => setPassword(e.target.value) } />\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fa fa-key\"></em>{ lng('PASSWORD_RETYPE') }</label>\n\t\t\t\t\t<input type=\"password\" name=\"password2\" \n\t\t\t\t\tclassName=\"form-control password\" onChange={ (e) => setPassword2(e.target.value) }/>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fas fa-id-badge\"></em>{ lng('REALNAME') }&nbsp;</label>\n\t\t\t\t\t<input type=\"text\" name=\"realname\" \n\t\t\t\t\trequired className=\"form-control\" onChange={ (e) => setRealname(e.target.value) }/>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fas fa-envelope\"></em>{ lng('EMAIL') }&nbsp;</label>\n\t\t\t\t\t<input type=\"email\" name=\"email\" \n\t\t\t\t\trequired className=\"form-control\" onChange={ (e) => setEmail(e.target.value) }/>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">{ lng('AVATARFILE') }</div>\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<label><em className=\"fas fa-camera\"></em>&nbsp;</label>\n\t\t\t\t\t\t<input type=\"file\" name=\"avatar\" id=\"avatar\" className=\"form-control\"\n\t\t\t\t\t\tonChange={ (e) => setAvatar(e.target.value) }/>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<label>{ lng('TWOFACTOR') }&nbsp;</label>\n\t\t\t\t\t\t<select name=\"twofactor\" className=\"form-control\" onChange={ (e) => setTwofactor(e.target.value) }>\n\t\t\t\t\t\t\t<option value=\"0\">{ lng('YES') }</option>\n\t\t\t\t\t\t\t<option value=\"1\">{ lng('NO') }</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<label>&nbsp;</label>\n\t\t\t\t\t\t<input type=\"checkbox\" className=\"form-check-input\" name=\"accept\" value=\"1\" \n\t\t\t\t\t\tonChange={ (e) => setAccept(e.target.value) }/>\n\t\t\t\t\t\t<strong>{ lng('POLICYACCEPT') }</strong>\n\t\t\t\t\t\t<br />;\n\t\t\t\t\t\t<a href=\"./policy\" target=\"_new\">\n\t\t\t\t\t\t\t<em className=\"fas fa-hand-point-right\"></em>{ lng('POLICY') }\n\t\t\t\t\t\t</a>\n\n\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" name=\"submitbtn\"\n\t\t\t\t\t\t    onClick={ validator }> \n\t\t\t\t\t\t\t<em className=\"fas fa-check\"></em>&nbsp;{ lng('OK') }\n\t\t\t\t\t\t</button>    \n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t</form>\n\t\t\t\t<div className=\"alert alert-warning\">\n\t\t\t\t\t\t<p><strong>{ lng('REGISTHELP') }</strong></p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"alert alert-info\">{ lng('REGISTHELP2') }</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\nexport default Register\n"],"names":["Register","lng","common","username","setUsername","useState","password","setPassword","password2","setPassword2","realname","setRealname","email","setEmail","avatar","setAvatar","twofactor","setTwofactor","accept","setAccept","_jsx","id","children","_jsxs","className","name","method","encType","type","onChange","e","target","value","required","minLength","href","onClick","validator","console","log","document","getElementById","lowerLetter","numberChar","specChar","capitalChar","match","popupMsg","callApi","data","res","ok","formData","FormData","append","files","length","errorMsg"],"sourceRoot":""}