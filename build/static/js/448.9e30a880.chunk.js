"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[448],{448:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var l=a(43),r=a(85),t=a(579);const n=()=>{const e=r.sh.lng,[s,a]=(0,l.useState)(""),[n,c]=(0,l.useState)(""),[i,d]=(0,l.useState)(""),[o,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(""),[x,u]=(0,l.useState)(""),[j,g]=(0,l.useState)("0"),[N,v]=(0,l.useState)("0");return(0,t.jsx)("div",{id:"Register",children:(0,t.jsxs)("div",{id:"regist",className:"form",children:[(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsxs)("h1",{className:"ribbon-banner",children:[(0,t.jsx)("em",{className:"fa fa-user-plus","aria-hidden":"true"}),"\xa0",(0,t.jsx)("span",{children:e("REGISTRATION")})]})}),(0,t.jsxs)("form",{name:"registration",id:"registForm",method:"post",encType:"multipart/form-data",children:[(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("em",{className:"fa fa-user"}),e("USERNAME"),"\xa0"]}),(0,t.jsx)("input",{type:"text",name:"username",id:"username",onChange:e=>a(e.target.value),required:!0,className:"form-control"})]})}),(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("em",{className:"fa fa-key"}),e("PASSWORD"),"\xa0"]}),(0,t.jsx)("input",{type:"password",name:"password",id:"password",required:!0,className:"form-control password",minLength:8,onChange:e=>c(e.target.value)})]})}),(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("em",{className:"fa fa-key"}),e("PASSWORD_RETYPE")]}),(0,t.jsx)("input",{type:"password",name:"password2",className:"form-control password",onChange:e=>d(e.target.value)})]})}),(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("em",{className:"fas fa-id-badge"}),e("REALNAME"),"\xa0"]}),(0,t.jsx)("input",{type:"text",name:"realname",required:!0,className:"form-control",onChange:e=>m(e.target.value)})]})}),(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("em",{className:"fas fa-envelope"}),e("EMAIL"),"\xa0"]}),(0,t.jsx)("input",{type:"email",name:"email",required:!0,className:"form-control",onChange:e=>h(e.target.value)})]})}),(0,t.jsxs)("div",{className:"row text-center",children:[(0,t.jsx)("div",{className:"col-12",children:e("AVATARFILE")}),(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("em",{className:"fas fa-camera"}),"\xa0"]}),(0,t.jsx)("input",{type:"file",name:"avatar",id:"avatar",className:"form-control",onChange:e=>u(e.target.value)})]})]}),(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("label",{children:[e("TWOFACTOR"),"\xa0"]}),(0,t.jsxs)("select",{name:"twofactor",className:"form-control",onChange:e=>g(e.target.value),children:[(0,t.jsx)("option",{value:"0",children:e("YES")}),(0,t.jsx)("option",{value:"1",children:e("NO")})]})]})}),(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsx)("label",{children:"\xa0"}),(0,t.jsx)("input",{type:"checkbox",className:"form-check-input",name:"accept",value:"1",onChange:e=>v(e.target.value)}),(0,t.jsx)("strong",{children:e("POLICYACCEPT")}),(0,t.jsx)("br",{}),";",(0,t.jsxs)("a",{href:"./policy",target:"_new",children:[(0,t.jsx)("em",{className:"fas fa-hand-point-right"}),e("POLICY")]})]})}),(0,t.jsx)("div",{className:"row text-center",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("button",{type:"button",className:"btn btn-primary",name:"submitbtn",onClick:()=>{console.log("validator start"),console.log(document),console.log(document.getElementById("avatar"));var a=0,l=0,t=0,c=0;a=n.match(/[a-z\xf6\xfc\xf3\u0151\xfa\xe9\xe1\u0171\xed]/g)?1:0;c=n.match(/[A-Z\xd6\xdc\xd3\u0150\xda\xc9\xc1\u0170\xcd]/g)?1:0;l=n.match(/[0-9]/g)?1:0,t=n.match(/[\\xa7'"+!%/=()\\|\xc4\xf7\xd7\xe4\u0111\u0110\[\]\u0142\u0141$\xdf\xa4<>#&@{},;\?\.:\-_\*\\]/g)?1:0,console.log("validator",n,a,c,l,t),"0"===N?r.sh.popupMsg(e("ACCEPT_REQUIRED")):n!==i?r.sh.popupMsg(e("TWO_PASSWORD_NOT_EQUALS")):0===a||0===c||0===l||0===t?r.sh.popupMsg(e("PASSWORD_INVALID")):r.sh.callApi("api/registcheck",{sid:r.sh.data("sid"),username:s,email:p,userid:"0"},(a=>{if(a.ok){let a=new FormData;a.append("sid",r.sh.data("sid")),a.append("username",s),a.append("email",p),a.append("userid","0"),a.append("realname",o),a.append("password",n),a.append("twofactor",j),a.append("accept",N);let l=document.getElementById("avatar"),t=null===l||void 0===l?void 0:l.files;t&&t.length>0&&a.append("avatar",t[0]),r.sh.callApi("api/doregist.php",a,(s=>{s.ok?r.sh.popupMsg(e("ACTIVATOR_EMAIL_SENDED")):r.sh.popupMsg(s.errorMsg)}))}else r.sh.popupMsg(e(a.errorMsg))}))},children:[(0,t.jsx)("em",{className:"fas fa-check"}),"\xa0",e("OK")]})})})]}),(0,t.jsx)("div",{className:"alert alert-warning",children:(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:e("REGISTHELP")})})}),(0,t.jsx)("div",{className:"alert alert-info",children:e("REGISTHELP2")})]})})}}}]);
//# sourceMappingURL=448.9e30a880.chunk.js.map