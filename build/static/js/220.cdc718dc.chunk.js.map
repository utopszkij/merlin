{"version":3,"file":"static/js/220.cdc718dc.chunk.js","mappings":"4LAuBA,MA8PA,EA9PcA,KAGZ,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAMC,IAAWJ,EAAAA,EAAAA,UAAS,UAC1BK,EAAKC,IAAUN,EAAAA,EAAAA,UAAS,IACzBO,EAAMC,EAAAA,GAAOD,IACbE,EAAMD,EAAAA,GAAOE,UAAU,QAG3BC,EAAAA,EAAAA,YAAU,KACZC,IAAE,YAAYC,MAAM,IAUpB,MAAMC,EAAgBC,IACvBP,EAAAA,GAAOQ,UAAU,UAAUD,EAAIE,KAAKC,GAAG,IACvCV,EAAAA,GAAOQ,UAAU,YAAYD,EAAIE,KAAKE,KAAK,IAC3CX,EAAAA,GAAOQ,UAAU,cAAcD,EAAIE,KAAKG,OAAO,IAC/CZ,EAAAA,GAAOQ,UAAU,cAAcD,EAAIE,KAAKI,OAAO,IAC/C,IAAIC,EAAWd,EAAAA,GAAOE,UAAU,YACd,KAAbY,QAAkCC,IAAbD,IACzBA,EAAW,UAEZd,EAAAA,GAAOgB,YAAYF,EAAS,EAoG3B,OAEAG,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACW,WAATxB,IACCyB,EAAAA,EAAAA,KAACC,EAAAA,QAAQ,IAED,eAAT1B,IAEAsB,EAAAA,EAAAA,MAAA,OAAKP,GAAG,YAAYY,UAAU,OAAMH,SAAA,EACpCC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,uBAA0B,QACxCF,EAAAA,EAAAA,KAAA,QAAAD,SAAQpB,EAAI,iBAGfkB,EAAAA,EAAAA,MAAA,QAAMM,KAAK,QAAQC,OAAO,YAAYC,OAAO,OAC5Cf,GAAG,YAAWS,SAAA,EACdC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACtBC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,gBAAmB,QACjCF,EAAAA,EAAAA,KAAA,SAAAD,SAASpB,EAAI,qBAA2BqB,EAAAA,EAAAA,KAAA,UACxCA,EAAAA,EAAAA,KAAA,SAAOM,KAAK,OAAOH,KAAK,MAAMb,GAAG,MAChCiB,SAAWC,GAAM9B,EAAO8B,EAAEC,OAAOC,OAAQC,WAAS,EAClDC,UAAQ,UAGXZ,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,SAAQH,UACtBF,EAAAA,EAAAA,MAAA,UAAQS,KAAK,SAASJ,UAAU,kBAAkBC,KAAK,SAASb,GAAG,UAAUuB,QA1C1DC,KACxBlC,EAAAA,GAAOmC,QAAQ,qBAAqB,CACnC,IAAMlC,EACN,IAAMJ,IAENU,IACIA,EAAIE,KAAK2B,MACZ9B,EAAaC,GAEbP,EAAAA,GAAOqC,SAAStC,EAAIQ,EAAIE,KAAK6B,UAAWC,EAAAA,GAASC,MAClD,GACC,EA+B0GrB,SAAA,EACtGC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,iBAAoB,OAAQvB,EAAI,mBAQ1C,SAARJ,IAEFsB,EAAAA,EAAAA,MAAA,OAAKP,GAAG,QAAQY,UAAU,OAAMH,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,uBAA0B,QACxCF,EAAAA,EAAAA,KAAA,QAAAD,SAAQpB,EAAI,iBAGfkB,EAAAA,EAAAA,MAAA,QAAMM,KAAK,QAAQC,OAAO,YAAYC,OAAO,OAC5Cf,GAAG,YAAWS,SAAA,EACdC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACtBC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,gBAAmB,QACjCF,EAAAA,EAAAA,KAAA,SAAAD,SAASpB,EAAI,wBAA8BqB,EAAAA,EAAAA,KAAA,UAC3CA,EAAAA,EAAAA,KAAA,SAAOM,KAAK,OAAOH,KAAK,QAAQb,GAAG,QAAQoB,MAAQxC,EAClDqC,SAAWC,GAAMrC,EAASqC,EAAEC,OAAOC,OAAQC,WAAS,EACpDC,UAAQ,UAGXZ,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACtBC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,eAAkB,QAChCF,EAAAA,EAAAA,KAAA,SAAAD,SAASpB,EAAI,eAAqBqB,EAAAA,EAAAA,KAAA,UAClCA,EAAAA,EAAAA,KAAA,SAAOM,KAAK,WAAWhB,GAAG,WAAWa,KAAK,WAAWO,MAAQrC,EAC3DkC,SAAWC,GAAMlC,EAAYkC,EAAEC,OAAOC,OACtCE,UAAQ,UAGZZ,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACtBC,EAAAA,EAAAA,KAAA,KAAGqB,KAAK,YAAYZ,OAAO,OAAMV,SAAGpB,EAAI,aAAgB,OACtDA,EAAI,iBAIRqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,SAAQH,UACtBF,EAAAA,EAAAA,MAAA,UAAQS,KAAK,SAASJ,UAAU,kBAAkBC,KAAK,SAASb,GAAG,UAAUuB,QAvKjES,KACjB1C,EAAAA,GAAOQ,UAAU,UAAU,GAAG,IAC9BR,EAAAA,GAAOQ,UAAU,YAAY,GAAG,IAChCR,EAAAA,GAAOQ,UAAU,cAAc,GAAG,IAClCR,EAAAA,GAAOQ,UAAU,cAAc,GAAG,IACpB,KAAVlB,EACHU,EAAAA,GAAOqC,SAAStC,EAAI,0BAA2BwC,EAAAA,GAASC,OACjC,KAAb/C,EACVO,EAAAA,GAAOqC,SAAStC,EAAI,qBAAqB,IAAIN,EAAS,IAAK8C,EAAAA,GAASC,OAEpExC,EAAAA,GAAOmC,QAAQ,kBAAkB,CAChC,IAAOlC,EACP,MAASX,EACT,SAAWG,IACXc,IACIA,EAAIE,KAAK2B,MACZ9B,EAAaC,GAEY,cAArBA,EAAIE,KAAK6B,SACZ1C,EAAQ,cAERI,EAAAA,GAAOqC,SAAStC,EAAIQ,EAAIE,KAAK6B,UAAWC,EAAAA,GAASC,MAEnD,GAEF,EA8IqGrB,SAAA,EAC/FC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,iBAAoB,OAAQvB,EAAI,cAIjDqB,EAAAA,EAAAA,KAAA,UAAMA,EAAAA,EAAAA,KAAA,UACNH,EAAAA,EAAAA,MAAA,OAAKK,UAAU,kBAAiBH,SAAA,EAChCC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,SAAQH,UACrBC,EAAAA,EAAAA,KAAA,KAAGE,UAAU,oBAAoBmB,KAAK,4DAA2DtB,SAC9FpB,EAAI,gBAGRqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,SAAQH,UACtBC,EAAAA,EAAAA,KAAA,KAAGqB,KAAK,uEACPnB,UAAU,oBAAmBH,SAC3BpB,EAAI,0BAKVqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,mBAAkBH,SAAGpB,EAAI,kBACxCqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,MAAKH,UACnBC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,qBAAoBH,UAClCC,EAAAA,EAAAA,KAAA,UAAQM,KAAK,SAAShB,GAAG,aAAauB,QA/JrBU,KACrB/C,EAAQ,SAAS,EA8JiD0B,UAAU,oBAAmBH,SACvFpB,EAAI,mBAIVqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,MAAKH,UACnBC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,qBAAoBH,UAClCC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,oBAAoBZ,GAAG,cAAcuB,QA3I9BW,KACZ,KAAVtD,EACHU,EAAAA,GAAOqC,SAAStC,EAAI,0BAA2BwC,EAAAA,GAASC,OAExDxC,EAAAA,GAAOmC,QAAQ,6BAA6B,CAC3C,IAAOlC,EACP,MAASX,IACTiB,IACIA,EAAIE,KAAKoC,WACZ7C,EAAAA,GAAOqC,SAAStC,EAAI,gBAAiBwC,EAAAA,GAASO,SAE9C9C,EAAAA,GAAOqC,SAAStC,EAAI,cAAewC,EAAAA,GAASC,MAC7C,GAEF,EA6HoFrB,SAC5EpB,EAAI,2BAIVqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,MAAKH,UACnBC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,qBAAoBH,UAClCC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,oBAAoBZ,GAAG,iBAAiBuB,QAtK9Bc,KACf,KAAVzD,EACHU,EAAAA,GAAOqC,SAAStC,EAAI,0BAA2BwC,EAAAA,GAASC,OAExDxC,EAAAA,GAAOmC,QAAQ,yBAAyB,CACvC,IAAOlC,EACP,MAASX,IACTiB,IACIA,EAAIE,KAAKoC,WACZ7C,EAAAA,GAAOqC,SAAStC,EAAI,gBAAiBwC,EAAAA,GAASO,SAE9C9C,EAAAA,GAAOqC,SAAStC,EAAI,cAAewC,EAAAA,GAASC,MAC7C,GAEF,EAwJ0FrB,SAClFpB,EAAI,8BAMR,C,2EC1QL,MA+MA,EA/MiBsB,KAChB,MAAMtB,EAAMC,EAAAA,GAAOD,KACZiD,EAAUC,IAAezD,EAAAA,EAAAA,UAAS,KAClCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClC0D,EAAWC,IAAgB3D,EAAAA,EAAAA,UAAS,KACpC4D,EAAUC,IAAe7D,EAAAA,EAAAA,UAAS,KAClCF,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BoB,EAAQ0C,IAAa9D,EAAAA,EAAAA,UAAS,KAC9B+D,EAAWC,IAAgBhE,EAAAA,EAAAA,UAAS,MACpCiE,EAAQC,IAAalE,EAAAA,EAAAA,UAAS,KAmGrC,OACC4B,EAAAA,EAAAA,KAAA,OAAKV,GAAG,WAAUS,UACjBF,EAAAA,EAAAA,MAAA,OAAKP,GAAG,SAASY,UAAU,OAAMH,SAAA,EAChCC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,MAAIK,UAAU,gBAAeH,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,kBAAkB,cAAY,SAAY,QACxDF,EAAAA,EAAAA,KAAA,QAAAD,SAAQpB,EAAI,wBAGdkB,EAAAA,EAAAA,MAAA,QAAMM,KAAK,eAAeb,GAAG,aAAce,OAAO,OAC5CkC,QAAQ,sBAAqBxC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACvBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EAAOC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,eAAoBvB,EAAI,YAAa,WAC1DqB,EAAAA,EAAAA,KAAA,SAAOM,KAAK,OAAOH,KAAK,WAAWb,GAAG,WAAWiB,SAAYC,GAAMqB,EAAYrB,EAAEC,OAAOC,OACvFE,UAAQ,EAACV,UAAU,uBAGrBF,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACvBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EAAOC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,cAAmBvB,EAAI,YAAa,WACzDqB,EAAAA,EAAAA,KAAA,SAAOM,KAAK,WAAWH,KAAK,WAAWb,GAAG,WAAWsB,UAAQ,EAC5DV,UAAU,wBACVsC,UAAW,EACXjC,SAAYC,GAAMlC,EAAYkC,EAAEC,OAAOC,eAGzCV,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACvBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EAAOC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,cAAmBvB,EAAI,uBAC5CqB,EAAAA,EAAAA,KAAA,SAAOM,KAAK,WAAWH,KAAK,YAC5BD,UAAU,wBAAwBK,SAAYC,GAAMuB,EAAavB,EAAEC,OAAOC,eAG3EV,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACvBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EAAOC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,oBAAyBvB,EAAI,YAAa,WAC/DqB,EAAAA,EAAAA,KAAA,SAAOM,KAAK,OAAOH,KAAK,WACxBS,UAAQ,EAACV,UAAU,eAAeK,SAAYC,GAAMyB,EAAYzB,EAAEC,OAAOC,eAG1EV,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACvBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EAAOC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,oBAAyBvB,EAAI,SAAU,WAC5DqB,EAAAA,EAAAA,KAAA,SAAOM,KAAK,QAAQH,KAAK,QACzBS,UAAQ,EAACV,UAAU,eAAeK,SAAYC,GAAMrC,EAASqC,EAAEC,OAAOC,eAGvEb,EAAAA,EAAAA,MAAA,OAAKK,UAAU,kBAAiBH,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,SAAQH,SAAGpB,EAAI,iBAC9BkB,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACtBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EAAOC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,kBAAqB,WAC1CF,EAAAA,EAAAA,KAAA,SAAOM,KAAK,OAAOH,KAAK,SAASb,GAAG,SAASY,UAAU,eACvDK,SAAYC,GAAM0B,EAAU1B,EAAEC,OAAOC,gBAGvCV,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACtBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,CAASpB,EAAI,aAAc,WAC3BkB,EAAAA,EAAAA,MAAA,UAAQM,KAAK,YAAYD,UAAU,eAAeK,SAAYC,GAAM4B,EAAa5B,EAAEC,OAAOC,OAAQX,SAAA,EACjGC,EAAAA,EAAAA,KAAA,UAAQU,MAAM,IAAGX,SAAGpB,EAAI,UACxBqB,EAAAA,EAAAA,KAAA,UAAQU,MAAM,IAAGX,SAAGpB,EAAI,iBAK3BqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,SAAQH,SAAA,EACtBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,UACPC,EAAAA,EAAAA,KAAA,SAAOM,KAAK,WAAWJ,UAAU,mBAAmBC,KAAK,SAASO,MAAM,IACxEH,SAAYC,GAAM8B,EAAU9B,EAAEC,OAAOC,UACrCV,EAAAA,EAAAA,KAAA,UAAAD,SAAUpB,EAAI,mBACdqB,EAAAA,EAAAA,KAAA,SAAM,KACNH,EAAAA,EAAAA,MAAA,KAAGwB,KAAK,WAAWZ,OAAO,OAAMV,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,4BAAiCvB,EAAI,mBAQtDqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBH,UAC/BC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,SAAQH,UACtBF,EAAAA,EAAAA,MAAA,UAAQS,KAAK,SAASJ,UAAU,kBAAkBC,KAAK,YACnDU,QAtLS4B,KAGjBC,QAAQC,IAAI,mBACZD,QAAQC,IAAIC,UACZF,QAAQC,IAAIC,SAASC,eAAe,WAEpC,IAAIC,EAAc,EACdC,EAAa,EACbC,EAAW,EACXC,EAAc,EAKjBH,EADEzE,EAAS6E,MADW,kDAER,EAEA,EAMdD,EADE5E,EAAS6E,MADW,kDAER,EAEA,EAMdH,EADE1E,EAAS6E,MADE,UAEA,EAEA,EAKbF,EADG3E,EAAS6E,MAAM,kGACP,EAEA,EAGZR,QAAQC,IAAI,YAAatE,EAAUyE,EAAaG,EAAaF,EAAYC,GAE1D,MAAXX,EACHzD,EAAAA,GAAOqC,SAAUtC,EAAI,oBACXN,IAAayD,EACvBlD,EAAAA,GAAOqC,SAAUtC,EAAI,4BACO,IAAhBmE,GACQ,IAAhBG,GACe,IAAfF,GACa,IAAbC,EACJpE,EAAAA,GAAOqC,SAAUtC,EAAI,qBAEpBC,EAAAA,GAAOmC,QAAQ,kBAAkB,CACjC,IAAMnC,EAAAA,GAAOS,KAAK,OAClB,SAAYuC,EACZ,MAAS1D,EACT,OAAS,MAERiB,IACD,GAAIA,EAAIgE,GAAI,CACX,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,MAAM1E,EAAAA,GAAOS,KAAK,QAClC+D,EAASE,OAAO,WAAW1B,GAC3BwB,EAASE,OAAO,QAAQpF,GACxBkF,EAASE,OAAO,SAAS,KACzBF,EAASE,OAAO,WAAWtB,GAC3BoB,EAASE,OAAO,WAAWjF,GAC3B+E,EAASE,OAAO,YAAYnB,GAC5BiB,EAASE,OAAO,SAASjB,GAGzB,IAAI7C,EAASoD,SAASC,eAAe,UACjCU,EAAc,OAAN/D,QAAM,IAANA,OAAM,EAANA,EAAQ+D,MAChBA,GACCA,EAAMC,OAAS,GAClBJ,EAASE,OAAO,SAASC,EAAM,IAGjC3E,EAAAA,GAAOmC,QAAQ,mBAAmBqC,GACjCjE,IACIA,EAAIgE,GACPvE,EAAAA,GAAOqC,SAAUtC,EAAI,2BAErBC,EAAAA,GAAOqC,SAAS9B,EAAI+B,SACrB,GAEF,MACCtC,EAAAA,GAAOqC,SAAUtC,EAAIQ,EAAI+B,UAC1B,GAEF,EAyF6BnB,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,iBAAoB,OAAQvB,EAAI,iBAKjDqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,sBAAqBH,UAClCC,EAAAA,EAAAA,KAAA,KAAAD,UAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAUpB,EAAI,qBAEnBqB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,mBAAkBH,SAAGpB,EAAI,qBAEpC,C","sources":["pages/Login.tsx","pages/Register.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useState } from \"react\";\nimport { common, msgStyle } from \"../common/common\";\nimport Register from './Register';\nimport $ from 'jquery'; \n  \ntype DoLoginResult = {\n\tdata:{\n\t\tloged:boolean,\n\t\terrorMsg:string,\n\t\tid:string,\n\t\tnick:string,\n\t\tavatar:string,\n\t\tgroups:string    // list of groupIds\n\t}\n}\n\ntype MailSenderResult = {\n\tdata:{\n\t\tmailsended:boolean\n\t}\n}\n\nconst Login = () => {\n  \t\n  //variables whose value can change during runtime\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [task, setTask] = useState(\"login\");\n  const [key, setKey] = useState(\"\");\n  const lng = common.lng;\n  const sid = common.getCookie('sid');\t\n\n  // onLoad event handler\n\t   useEffect(() => {\n\t\t$('#waiting').hide();\n\t});\t\n\n\n  /**\n   * success login store loged user into cookie\n   * if defined cookie.redirect goto redirect\n   *    else goto /home\n   * @param res \n   */\t\n  const successLogin = (res:DoLoginResult) => {\n\tcommon.setCookie('logedId',res.data.id,10);\n\tcommon.setCookie('logedNick',res.data.nick,10);\n\tcommon.setCookie('logedAvatar',res.data.avatar,10);\n\tcommon.setCookie('logedGroups',res.data.groups,10);\n\tlet redirect = common.getCookie('redirect');\n\tif ((redirect === '') || (redirect === undefined)) {\n\t\tredirect = './home';\n\t}\n\tcommon.gotoNewPage(redirect) ;\n  }\t\n\n  /** validate import fields\n\t* if OK call api\n\t* else show errorMsg, set error class, set focus\n\t* @return void \n  */\t\n  const doLogin = () => {\n\tcommon.setCookie('logedId','',10);\n\tcommon.setCookie('logedNick','',10);\n\tcommon.setCookie('logedAvatar','',10);\n\tcommon.setCookie('logedGroups','',10);\n\tif (email === '') {\n\t\tcommon.popupMsg(lng('NICK_OR_EMAIL_REQUIRED'), msgStyle.error);\n\t} else if (password === '') {\n\t\tcommon.popupMsg(lng('PASSWORD_REQUIRED')+'/'+password+'/', msgStyle.error);\n\t} else {\n\t\tcommon.callApi('api/dologin.php',{\n\t\t\t'sid': sid,\n\t\t\t'email': email,\n\t\t\t'password':password},\n\t\t(res:DoLoginResult) => { \n\t\t\tif (res.data.loged) {\n\t\t\t\tsuccessLogin(res);\n\t\t\t} else {\n\t\t\t\tif (res.data.errorMsg == 'TWO_FACTOR') {\n\t\t\t\t\tsetTask('two_factor');\n\t\t\t\t} else {\n\t\t\t\t\tcommon.popupMsg(lng(res.data.errorMsg), msgStyle.error);\n\t\t\t\t}   \n\t\t\t}\t\n\t\t});\t\n\t}\n  };\n\n  /**\n   * user click regist button\n   */\n  const registClick = () => {\n\tsetTask('regist');\n  }\n\n  /**\n   * user click forgetPassword button\n   */\n  const forgetPasswordClick = () => {\n\tif (email === '') {\n\t\tcommon.popupMsg(lng('NICK_OR_EMAIL_REQUIRED'), msgStyle.error);\n\t} else {\n\t\tcommon.callApi('api/forgetpassword.php',{\n\t\t\t'sid': sid,\n\t\t\t'email': email},\n\t\t(res:MailSenderResult) => { \n\t\t\tif (res.data.mailsended) {\n\t\t\t\tcommon.popupMsg(lng('EMAIL_SENDED'), msgStyle.success);\n\t\t\t} else {\n\t\t\t\tcommon.popupMsg(lng('WRONG_DATA'), msgStyle.error);\n\t\t\t}\t\n\t\t});\t\n\t}\n  }\n\n  /**\n   * user click resebdEmail button\n   */\n  const resendEmailClick = () => {\n\tif (email === '') {\n\t\tcommon.popupMsg(lng('NICK_OR_EMAIL_REQUIRED'), msgStyle.error);\n\t} else {\n\t\tcommon.callApi('api/sendactivatoremail.php',{\n\t\t\t'sid': sid,\n\t\t\t'email': email},\n\t\t(res:MailSenderResult) => { \n\t\t\tif (res.data.mailsended) {\n\t\t\t\tcommon.popupMsg(lng('EMAIL_SENDED'), msgStyle.success);\n\t\t\t} else {\n\t\t\t\tcommon.popupMsg(lng('WRONG_DATA'), msgStyle.error);\n\t\t\t}\t\n\t\t});\t\n\t}\n   }\n\n   /**\n\t* user send two factor key\n\t*/\n   const doTwoFactorKey = () => {\n\t\tcommon.callApi('api/dotwofactorkey',{\n\t\t\t'sid':sid,\n\t\t\t'key':key\n\t\t}, \n\t\t(res:DoLoginResult) => {\n\t\t\tif (res.data.loged) {\n\t\t\t\tsuccessLogin(res);\n\t\t\t} else {\n\t\t\t\tcommon.popupMsg(lng(res.data.errorMsg), msgStyle.error);\n\t\t\t}\n\t\t})\n   }\n\n  return (\n\n\t\t<>\n\t\t{(task === 'regist') &&\n\t\t\t( <Register />)\n\t\t}\n\t\t{(task === 'two_factor') &&\n\t\t\t( \n\t\t\t\t<div id=\"twoFactor\" className=\"form\">\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t\t<em className=\"fas fa-sign-in-alt\"></em>&nbsp;\n\t\t\t\t\t\t\t<span>{ lng('LOGIN') }</span>\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\t\n\t\t\t\t<form name=\"login\" action=\"index.php\" method=\"post\" \n\t\t\t\t\tid=\"formLogin\">\n\t\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t<em className=\"fas fa-user\"></em>&nbsp;\n\t\t\t\t\t\t\t<label>{ lng('TWO_FACTOR_KEY') }</label><br />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"key\" id=\"key\" \n\t\t\t\t\t\t\t\tonChange={(e) => setKey(e.target.value)} autoFocus\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</div>\t\n\t\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-success\" name=\"submit\" id=\"doLogin\" onClick={ doTwoFactorKey }>\n\t\t\t\t\t\t\t\t<em className=\"fas fa-check\"></em>&nbsp;{ lng('OK') }\n\t\t\t\t\t\t\t</button>   \n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\t{(task == 'login') &&\n\t\t(\n\t\t<div id=\"login\" className=\"form\">\n\t\t\t<div className=\"row text-center\">\n\t\t\t\t<h1>\n\t\t\t\t\t\t<em className=\"fas fa-sign-in-alt\"></em>&nbsp;\n\t\t\t\t\t\t<span>{ lng('LOGIN') }</span>\n\t\t\t\t</h1>\n\t\t\t</div>\t\n\t\t\t<form name=\"login\" action=\"index.php\" method=\"post\" \n\t\t\t\tid=\"formLogin\">\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<em className=\"fas fa-user\"></em>&nbsp;\n\t\t\t\t\t\t<label>{ lng('NICKNAME_OR_EMAIL') }</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"email\" id=\"email\" value={ email }\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)} autoFocus\n\t\t\t\t\t\t\trequired />\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<em className=\"fas fa-key\"></em>&nbsp;\n\t\t\t\t\t\t<label>{ lng('PASSWORD') }</label><br />\n\t\t\t\t\t\t<input type=\"password\" id=\"password\" name=\"password\" value={ password }\n\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<a href=\"./poliicy\" target=\"_new\">{ lng('ACCEPT1') }</a>&nbsp;\n\t\t\t\t\t\t{ lng('ACCEPT2')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-success\" name=\"submit\" id=\"doLogin\" onClick={ doLogin }>\n\t\t\t\t\t\t\t<em className=\"fas fa-check\"></em>&nbsp;{ lng('OK') }\n\t\t\t\t\t\t</button>   \n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<br /><br />\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<a className=\"btn btn-secondary\" href=\"https://netpolgar.hu/auth/facebook?state=SITEURL/redirect\"> \n\t\t\t\t\t\t\t{ lng('FBLOGIN') }\t\t\t\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<a href=\"'https://netpolgar.hu/auth/google?state='+SITEURL+'/'+atob(redirect)\" \n\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"> \n\t\t\t\t\t\t\t{ lng('GOOGLELOGIN') }\t\t\t\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t</form>\n\t\t\t<div className=\"alert alert-info\">{ lng('REGISTHELP2') }</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 text-center\">\n\t\t\t\t\t<button type=\"button\" id=\"doRegister\" onClick={ registClick } className=\"btn btn-secondary\">\n\t\t\t\t\t\t\t{ lng('DOREGIST') }\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 text-center\">\n\t\t\t\t\t<var className=\"btn btn-secondary\" id=\"resendEmail\" onClick={ resendEmailClick }>\n\t\t\t\t\t\t\t{ lng('RESEND_ACTIVATOR') }\n\t\t\t\t\t</var>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 text-center\">\n\t\t\t\t\t<var className=\"btn btn-secondary\" id=\"forgetPassword\" onClick={ forgetPasswordClick }>\n\t\t\t\t\t\t\t{ lng('FORGET_PASSWORD') }\n\t\t\t\t\t</var>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t)}\n\t\t</>\n  \t\t)\n};\n\nexport default Login;\n","import React, { useState, useEffect } from 'react';\nimport { common } from \"../common/common\"; \n\n\n// https://hackernoon.com/implement-form-validation-in-react-without-any-libraries\n\n\nconst Register = () => {\n\tconst lng = common.lng;\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [password2, setPassword2] = useState('');\n\tconst [realname, setRealname] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [avatar, setAvatar] = useState('');\n\tconst [twofactor, setTwofactor] = useState('0');\n\tconst [accept, setAccept] = useState('0');\n\t\n\tconst validator = () => {\n\n\n\t\tconsole.log('validator start');\n\t\tconsole.log(document);\n\t\tconsole.log(document.getElementById('avatar'));\n\n\t\tvar lowerLetter = 0;\n\t\tvar numberChar = 0;\n\t\tvar specChar = 0;\n\t\tvar capitalChar = 0;\n\t\n\t\t// Validate lowercase letters\n\t\tvar lowerCaseLetters = /[a-zöüóőúéáűí]/g;\n\t\tif(password.match(lowerCaseLetters)) {\n\t\t\tlowerLetter = 1;\n\t\t} else {\n\t\t\tlowerLetter = 0;\n\t\t}\t\n\t\t\n\t\t// Validate capital letters\n\t\tvar upperCaseLetters = /[A-ZÖÜÓŐÚÉÁŰÍ]/g;\n\t\tif(password.match(upperCaseLetters)) {\n\t\t\tcapitalChar = 1;\n\t\t} else {\n\t\t\tcapitalChar = 0;\n\t\t}\n\t\t\n\t\t// Validate numbers\n\t\tvar numbers = /[0-9]/g;\n\t\tif(password.match(numbers)) {\n\t\t\tnumberChar = 1;\n\t\t} else {\n\t\t\tnumberChar = 0;\n\t\t}\n\n\t\t// Validate spec char\n\t\tif (password.match(/[\\§'\"+!%/=()\\\\|Ä÷×äđĐ\\[\\]łŁ$ß¤<>#&@{},;\\?\\.:\\-_\\*\\\\]/g)) {\n\t\t\tspecChar = 1;\n\t\t} else {\n\t\t\tspecChar = 0;\n\t\t}\n\n\t\tconsole.log('validator', password, lowerLetter, capitalChar, numberChar, specChar);\n\n\t\tif (accept === '0') {\n\t\t\tcommon.popupMsg( lng('ACCEPT_REQUIRED') );\n\t\t} else if (password !== password2) {\n\t\t\tcommon.popupMsg( lng('TWO_PASSWORD_NOT_EQUALS') );\n\t\t} else \tif ((lowerLetter === 0) ||\n\t\t    (capitalChar === 0) ||\n\t\t    (numberChar === 0) ||\n\t\t    (specChar === 0)) {\n\t\t\tcommon.popupMsg( lng('PASSWORD_INVALID') );\n\t\t} else {\t\t\n\t\t\t common.callApi('api/registcheck',{\n\t\t\t\t\"sid\":common.data('sid'),\n\t\t\t\t\"username\": username,\n\t\t\t\t\"email\": email,\n\t\t\t\t\"userid\":'0'\n\t\t\t },\n\t\t\t (res:any) => { \n\t\t\t\tif (res.ok) {\n\t\t\t\t\tlet formData = new FormData();\n\t\t\t\t\tformData.append('sid',common.data('sid'));\n\t\t\t\t\tformData.append('username',username);\n\t\t\t\t\tformData.append('email',email);\n\t\t\t\t\tformData.append('userid','0');\n\t\t\t\t\tformData.append('realname',realname);\n\t\t\t\t\tformData.append('password',password);\n\t\t\t\t\tformData.append('twofactor',twofactor);\n\t\t\t\t\tformData.append('accept',accept);\n\n\t\t\t\t\t// file upload processing\n\t\t\t\t\tlet avatar = document.getElementById('avatar') as HTMLInputElement;\n\t\t\t\t\tlet files = avatar?.files;\n\t\t\t\t\tif (files) {\n\t\t\t\t\t\tif (files.length > 0) {\n\t\t\t\t\t\t\tformData.append('avatar',files[0]);   \n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t\tcommon.callApi('api/doregist.php',formData,\n\t\t\t\t\t(res:any) => {\n\t\t\t\t\t\tif (res.ok) {\n\t\t\t\t\t\t\tcommon.popupMsg( lng('ACTIVATOR_EMAIL_SENDED') );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcommon.popupMsg(res.errorMsg);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcommon.popupMsg( lng(res.errorMsg) );\n\t\t\t\t}\t  \n\t\t\t  })\t\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<div id=\"Register\">\n\t\t\t<div id=\"regist\" className=\"form\">\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<h1 className=\"ribbon-banner\">\n\t\t\t\t\t\t<em className=\"fa fa-user-plus\" aria-hidden=\"true\"></em>&nbsp;\n\t\t\t\t\t\t<span>{ lng('REGISTRATION') }</span>\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\t\n\t\t\t\t<form name=\"registration\" id=\"registForm\"  method=\"post\" \n\t\t\t\t      encType=\"multipart/form-data\">\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fa fa-user\"></em>{ lng('USERNAME') }&nbsp;</label>\n\t\t\t\t\t<input type=\"text\" name=\"username\" id=\"username\" onChange={ (e) => setUsername(e.target.value) } \n\t\t\t\t\t\trequired className=\"form-control\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fa fa-key\"></em>{ lng('PASSWORD') }&nbsp;</label>\n\t\t\t\t\t<input type=\"password\" name=\"password\" id=\"password\" required\n\t\t\t\t\t\tclassName=\"form-control password\" \n\t\t\t\t\t\tminLength={8}\n\t\t\t\t\t\tonChange={ (e) => setPassword(e.target.value) } />\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fa fa-key\"></em>{ lng('PASSWORD_RETYPE') }</label>\n\t\t\t\t\t<input type=\"password\" name=\"password2\" \n\t\t\t\t\tclassName=\"form-control password\" onChange={ (e) => setPassword2(e.target.value) }/>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fas fa-id-badge\"></em>{ lng('REALNAME') }&nbsp;</label>\n\t\t\t\t\t<input type=\"text\" name=\"realname\" \n\t\t\t\t\trequired className=\"form-control\" onChange={ (e) => setRealname(e.target.value) }/>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<label><em className=\"fas fa-envelope\"></em>{ lng('EMAIL') }&nbsp;</label>\n\t\t\t\t\t<input type=\"email\" name=\"email\" \n\t\t\t\t\trequired className=\"form-control\" onChange={ (e) => setEmail(e.target.value) }/>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">{ lng('AVATARFILE') }</div>\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<label><em className=\"fas fa-camera\"></em>&nbsp;</label>\n\t\t\t\t\t\t<input type=\"file\" name=\"avatar\" id=\"avatar\" className=\"form-control\"\n\t\t\t\t\t\tonChange={ (e) => setAvatar(e.target.value) }/>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<label>{ lng('TWOFACTOR') }&nbsp;</label>\n\t\t\t\t\t\t<select name=\"twofactor\" className=\"form-control\" onChange={ (e) => setTwofactor(e.target.value) }>\n\t\t\t\t\t\t\t<option value=\"0\">{ lng('YES') }</option>\n\t\t\t\t\t\t\t<option value=\"1\">{ lng('NO') }</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<label>&nbsp;</label>\n\t\t\t\t\t\t<input type=\"checkbox\" className=\"form-check-input\" name=\"accept\" value=\"1\" \n\t\t\t\t\t\tonChange={ (e) => setAccept(e.target.value) }/>\n\t\t\t\t\t\t<strong>{ lng('POLICYACCEPT') }</strong>\n\t\t\t\t\t\t<br />;\n\t\t\t\t\t\t<a href=\"./policy\" target=\"_new\">\n\t\t\t\t\t\t\t<em className=\"fas fa-hand-point-right\"></em>{ lng('POLICY') }\n\t\t\t\t\t\t</a>\n\n\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\n\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" name=\"submitbtn\"\n\t\t\t\t\t\t    onClick={ validator }> \n\t\t\t\t\t\t\t<em className=\"fas fa-check\"></em>&nbsp;{ lng('OK') }\n\t\t\t\t\t\t</button>    \n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t</form>\n\t\t\t\t<div className=\"alert alert-warning\">\n\t\t\t\t\t\t<p><strong>{ lng('REGISTHELP') }</strong></p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"alert alert-info\">{ lng('REGISTHELP2') }</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\nexport default Register\n"],"names":["Login","email","setEmail","useState","password","setPassword","task","setTask","key","setKey","lng","common","sid","getCookie","useEffect","$","hide","successLogin","res","setCookie","data","id","nick","avatar","groups","redirect","undefined","gotoNewPage","_jsxs","_Fragment","children","_jsx","Register","className","name","action","method","type","onChange","e","target","value","autoFocus","required","onClick","doTwoFactorKey","callApi","loged","popupMsg","errorMsg","msgStyle","error","href","doLogin","registClick","resendEmailClick","mailsended","success","forgetPasswordClick","username","setUsername","password2","setPassword2","realname","setRealname","setAvatar","twofactor","setTwofactor","accept","setAccept","encType","minLength","validator","console","log","document","getElementById","lowerLetter","numberChar","specChar","capitalChar","match","ok","formData","FormData","append","files","length"],"sourceRoot":""}